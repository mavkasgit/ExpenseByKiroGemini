# Управление сохраненной схемой столбцов

## Описание функциональности

Добавлена возможность просматривать и редактировать сохраненную схему столбцов через кнопку "⚙️ Настройка столбцов".

### Новые возможности:

1. **Просмотр сохраненной схемы**: кнопка показывает текущую сохраненную конфигурацию
2. **Редактирование схемы**: можно изменить настройки без необходимости вставки данных
3. **Визуальные индикаторы**: показывают наличие сохраненной схемы и режим редактирования
4. **Приоритет автосохранения**: схема по-прежнему обновляется при каждом массовом вводе

## Пользовательский интерфейс

### Кнопка "⚙️ Настройка столбцов":
- **Без сохраненной схемы**: обычная кнопка с примером данных
- **С сохраненной схемой**: кнопка с точкой (●) и обновленной подсказкой
- **Tooltip**: "Просмотреть и изменить сохраненную схему столбцов"

### Модальное окно в режиме редактирования:
- **Заголовок**: "Редактирование сохраненной схемы столбцов"
- **Информационный блок**: синий блок с объяснением режима
- **Предзаполненные поля**: текущая сохраненная конфигурация

## Техническая реализация

### Новые состояния:
```typescript
const [isEditingColumnMapping, setIsEditingColumnMapping] = useState(false)
```

### Обновленная кнопка настройки:
```typescript
<Button
  onClick={() => {
    const savedMapping = loadSavedColumnMapping()
    
    if (savedMapping && savedMapping.length > 0) {
      // Создаем пример данных на основе сохраненной схемы
      const sampleData = [
        savedMapping.map((_, index) => `Столбец ${String.fromCharCode(65 + index)}`),
        // ... пример данных
      ]
      setPastedData(sampleData)
    } else {
      // Стандартный пример данных
    }
    setIsEditingColumnMapping(true)
    setIsColumnMappingOpen(true)
  }}
  title={savedColumnMapping ? "Просмотреть и изменить сохраненную схему столбцов" : "Настроить порядок столбцов для вставки данных"}
>
  ⚙️ Настройка столбцов {savedColumnMapping && <span className="ml-1 text-xs">●</span>}
</Button>
```

### Новый проп в ColumnMappingModal:
```typescript
interface ColumnMappingModalProps {
  // ... существующие пропсы
  isEditingMode?: boolean // Режим редактирования сохраненной схемы
}
```

### Информационный блок:
```typescript
{isEditingMode && (
  <div className="mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg">
    <div className="flex items-center gap-2">
      <div className="w-2 h-2 bg-blue-500 rounded-full"></div>
      <span className="text-sm text-blue-800 font-medium">
        Режим редактирования сохраненной схемы
      </span>
    </div>
    <p className="text-xs text-blue-700 mt-1">
      Изменения будут сохранены и применены к будущим массовым вводам
    </p>
  </div>
)}
```

## Сценарии использования

### Просмотр текущей схемы:
1. Нажать "⚙️ Настройка столбцов"
2. Увидеть текущие настройки в модальном окне
3. Закрыть без изменений

### Корректировка схемы:
1. Нажать "⚙️ Настройка столбцов"
2. Изменить назначения полей
3. Нажать "Применить" - схема обновится

### Сброс схемы:
1. Нажать "⚙️ Настройка столбцов"
2. Нажать "Сбросить"
3. Настроить заново и применить

## Приоритеты сохранения

1. **Высший приоритет**: автоматическое сохранение при массовом вводе
2. **Средний приоритет**: ручное редактирование через настройки
3. **Низший приоритет**: сброс к умолчанию

## Визуальные индикаторы

### Кнопка с сохраненной схемой:
- Точка (●) после текста
- Обновленная подсказка
- Другой цвет или стиль (опционально)

### Режим редактирования:
- Синий информационный блок
- Специальный заголовок
- Объяснение последствий изменений

Теперь пользователи могут легко управлять своими настройками столбцов, не дожидаясь следующего массового ввода!