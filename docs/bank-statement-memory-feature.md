# Функция запоминания настроек банковских выписок

## Обзор

Добавлена функция автоматического запоминания настроек для банковских выписок, аналогичная той, что используется в массовом вводе. Система запоминает:

1. **Выбранную таблицу** - для HTML файлов с несколькими таблицами
2. **Настройки столбцов** - соответствие столбцов полям системы

## Как это работает

### Запоминание таблицы

- При первой загрузке HTML файла пользователь выбирает нужную таблицу
- Выбор сохраняется в localStorage под ключом `bankStatementSettings`
- При следующих загрузках HTML файлов система автоматически использует сохраненную таблицу
- Если сохраненный индекс таблицы больше количества таблиц в новом файле, показывается выбор

### Запоминание настроек столбцов

- После настройки соответствия столбцов полям система сохраняет эти настройки
- При следующих загрузках файлов с тем же количеством столбцов настройки применяются автоматически
- Если количество столбцов не совпадает, используются настройки по умолчанию

## Интерфейс

### Индикатор сохраненных настроек

- Кнопка "⚙️ Настройки" показывает точку (●) когда есть сохраненные настройки
- Точка видна только после монтирования компонента (избегает гидратации)

### Управление настройками

- Клик по кнопке "⚙️ Настройки" показывает информацию о сохраненных параметрах
- Пользователь может очистить все сохраненные настройки через диалог подтверждения

## Техническая реализация

### Структура данных

```typescript
interface SavedBankSettings {
  tableIndex: number | null      // Индекс выбранной таблицы
  columnMapping: ColumnMappingType[] | null  // Настройки столбцов
}
```

### Ключевые функции

1. **loadSavedSettings()** - загружает настройки из localStorage
2. **saveSettings()** - сохраняет настройки в localStorage
3. **handleTableSelection()** - сохраняет выбранную таблицу
4. **handleColumnMappingApply()** - сохраняет настройки столбцов

### Логика применения

1. **При загрузке HTML файла:**
   - Проверяется наличие сохраненного индекса таблицы
   - Если индекс валиден, таблица выбирается автоматически
   - Иначе показывается диалог выбора

2. **При создании настроек столбцов:**
   - Проверяется наличие сохраненных настроек
   - Если количество столбцов совпадает, применяются сохраненные настройки
   - Иначе используются настройки по умолчанию

3. **При применении настроек:**
   - Настройки сохраняются в localStorage
   - Обновляется состояние компонента

## Преимущества

1. **Удобство использования** - не нужно каждый раз настраивать столбцы
2. **Экономия времени** - автоматический выбор таблицы и настроек
3. **Консистентность** - одинаковый подход с массовым вводом
4. **Гибкость** - возможность очистить настройки при необходимости

## Совместимость

- Функция полностью обратно совместима
- Не влияет на существующие данные
- Работает только в браузере (localStorage)
- Настройки сохраняются между сессиями

## Информирование пользователя

- В инструкции добавлен пункт о запоминании настроек
- Визуальный индикатор показывает наличие сохраненных настроек
- Toast уведомления информируют о сохранении и очистке настроек