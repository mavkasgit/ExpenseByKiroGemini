export interface City {
  id: string;
  name: string;
  region: string;
  description: string;
  founded: string;
  population: string;
  area: string;
  industries: string[];
  highlights: string[];
  coordinates: {
    lat: number;
    lon: number;
  };
  zoom: number;
  accentColor: string;
  outlineUrl: string;
  polygon: Array<[number, number]>;
}

interface CitySeed extends Omit<City, "outlineUrl"> {}

const createOutlineUrl = (city: CitySeed) => {
  const { coordinates, polygon, accentColor, zoom } = city;
  const polygonString = polygon
    .map(([lat, lon]) => `${lon.toFixed(4)},${lat.toFixed(4)}`)
    .join(",");
  const center = `${coordinates.lon.toFixed(4)},${coordinates.lat.toFixed(4)}`;
  const hex = accentColor.replace("#", "");
  const color = `${hex.toUpperCase()}AA`;

  return `https://static-maps.yandex.ru/1.x/?lang=ru_RU&l=map&ll=${center}&z=${Math.min(
    zoom + 1,
    15
  )}&size=450,300&pl=c:${color},w:3:${polygonString}`;
};

const citySeeds: CitySeed[] = [
  {
    id: "moscow",
    name: "Москва",
    region: "Центральный федеральный округ",
    description:
      "Столица России с насыщенной экономической, культурной и образовательной жизнью. Москва является крупнейшим транспортным узлом и сердцем деловой активности страны.",
    founded: "1147 год",
    population: "12,6 млн человек",
    area: "2 561 км²",
    industries: [
      "Финансы и банковский сектор",
      "ИТ и телеком",
      "Машиностроение",
      "Государственное управление",
    ],
    highlights: [
      "Московский Кремль и Красная площадь",
      "Деловые кварталы Москва-Сити",
      "Разветвлённая система метро",
    ],
    coordinates: {
      lat: 55.751244,
      lon: 37.618423,
    },
    zoom: 9,
    accentColor: "#f97316",
    polygon: [
      [55.9176, 37.2009],
      [55.913, 37.5125],
      [55.7742, 37.7358],
      [55.5809, 37.6497],
      [55.4974, 37.3219],
      [55.5458, 36.9854],
      [55.6986, 36.8227],
      [55.8619, 36.9883],
      [55.9176, 37.2009],
    ],
  },
  {
    id: "saint-petersburg",
    name: "Санкт-Петербург",
    region: "Северо-Западный федеральный округ",
    description:
      "Культурная столица страны с богатой архитектурой и мощной промышленной базой. Город является крупным морским портом и научным центром.",
    founded: "1703 год",
    population: "5,6 млн человек",
    area: "1 439 км²",
    industries: [
      "Судостроение",
      "Туризм",
      "Приборостроение",
      "Образование",
    ],
    highlights: [
      "Эрмитаж и Дворцовая площадь",
      "Разветвлённая сеть каналов и рек",
      "Высокотехнологичные промышленные кластеры",
    ],
    coordinates: {
      lat: 59.93863,
      lon: 30.31413,
    },
    zoom: 9,
    accentColor: "#0ea5e9",
    polygon: [
      [60.1326, 29.6482],
      [60.1486, 30.4094],
      [59.9872, 30.7976],
      [59.7724, 30.5765],
      [59.6501, 30.0959],
      [59.7292, 29.5913],
      [59.9401, 29.5116],
      [60.0718, 29.7895],
      [60.1326, 29.6482],
    ],
  },
  {
    id: "kazan",
    name: "Казань",
    region: "Приволжский федеральный округ",
    description:
      "Столица Татарстана, сочетающая исламскую и православную культуру. Важный промышленный и образовательный центр Поволжья.",
    founded: "1005 год",
    population: "1,3 млн человек",
    area: "615 км²",
    industries: [
      "Нефтехимия",
      "Машиностроение",
      "Туризм",
      "Высокие технологии",
    ],
    highlights: [
      "Казанский Кремль",
      "Иннополис и технопарки",
      "Развитая сеть речных маршрутов",
    ],
    coordinates: {
      lat: 55.796127,
      lon: 49.106405,
    },
    zoom: 10,
    accentColor: "#22c55e",
    polygon: [
      [55.9685, 48.8045],
      [55.9567, 49.2783],
      [55.8196, 49.5138],
      [55.6472, 49.3498],
      [55.5751, 48.9462],
      [55.6766, 48.7117],
      [55.829, 48.711],
      [55.9349, 48.8666],
      [55.9685, 48.8045],
    ],
  },
  {
    id: "novosibirsk",
    name: "Новосибирск",
    region: "Сибирский федеральный округ",
    description:
      "Третий по численности населения город России и крупнейший центр Сибири. Известен академгородком и развитой транспортной сетью.",
    founded: "1893 год",
    population: "1,6 млн человек",
    area: "505 км²",
    industries: [
      "Наука и образование",
      "Логистика",
      "Энергетика",
      "Машиностроение",
    ],
    highlights: [
      "Новосибирский академгородок",
      "Транссибирская магистраль",
      "Оперный театр",
    ],
    coordinates: {
      lat: 55.030199,
      lon: 82.92043,
    },
    zoom: 9,
    accentColor: "#a855f7",
    polygon: [
      [55.2105, 82.4312],
      [55.254, 83.1423],
      [55.0864, 83.3201],
      [54.8603, 83.1243],
      [54.8037, 82.7002],
      [54.9327, 82.3851],
      [55.0893, 82.3511],
      [55.1901, 82.4768],
      [55.2105, 82.4312],
    ],
  },
  {
    id: "yekaterinburg",
    name: "Екатеринбург",
    region: "Уральский федеральный округ",
    description:
      "Административный центр Урала, соединяющий Европу и Азию. Город обладает мощной промышленной базой и активной культурной жизнью.",
    founded: "1723 год",
    population: "1,5 млн человек",
    area: "1 143 км²",
    industries: [
      "Металлургия",
      "Машиностроение",
      "ИТ и инновации",
      "Логистика",
    ],
    highlights: [
      "Граница Европа-Азия",
      "Современный деловой центр",
      "Исторический квартал",
    ],
    coordinates: {
      lat: 56.838926,
      lon: 60.605703,
    },
    zoom: 9,
    accentColor: "#eab308",
    polygon: [
      [57.1093, 60.0221],
      [57.0677, 60.9172],
      [56.9242, 61.3105],
      [56.6879, 61.0623],
      [56.6114, 60.4811],
      [56.7052, 59.9675],
      [56.8902, 59.8575],
      [57.0466, 60.0596],
      [57.1093, 60.0221],
    ],
  },
];

export const cities: City[] = citySeeds.map((city) => ({
  ...city,
  outlineUrl: createOutlineUrl(city),
}));
